### General settings ###

# Source and lens catalogues
KiDS_path           /data2/dvornik/KidsCatalogues/LF_cat_DR2_v2             # Path to folder that contains the KiDS catalogs (optional - supersedes KiDS_version).
GAMA_path           /data2/dvornik/MergedCatalogues/GAMACatalogue_1.0.fits  # Path the GAMA catalog (optional - supersedes GAMA_version).
# lens_catalog      /data2/brouwer/MergedCatalogues/troughs.fits            # Path to the fits file with your custom lens catalogue (supersedes GAMA catalog),
                                                                            #     containing columns for: 'ID', 'RA', 'DEC', optional: 'Z' (if Runit = *pc), used lens paramaters.

# cosmology
Om                  0.315                                       # Omega matter.
Ol                  0.685                                       # Omega Lambda. (Not yet working, please use: 1-Om)
Ok                  0                                           # Omega curvature. (Not yet working, please use: 0)
h                   1.0                                         # Reduced Hubble constant. (h = H0/(100 km/s/Mpc))


### ESD Production ###

# Algorithm
ESD_output_folder     /data2/dvornik/AssemblyBias/pipeline_results            # Path to ESD output folder.
ESD_output_filename   AssemblyBias                            # This flag will be appended to the filenames (optional).
ESD_purpose           shearcatalog                     # One of {'shearcatalog', 'shearcovariance', 'shearbootstrap',
# ESD_purpose         randomcatalog                    #     'randomcatalog', 'randombootstrap'}.
#Rbins                1                                # One of the standard options (1-5, see help file), (Not yet working) or
#Rbins                Rbins.txt                        #     either a file with the radial binning or a
Rbins                 15,20,20000  #10,20,2000                       #     comma-separated list with (Nbins,Rmin,Rmax).
Runit                 kpc                              # One of these physical {pc, kpc, Mpc} or sky {arcsec, arcmin, deg} coordinates.
ncores                6                                # Any number of cores your machine can use to run the code.

# Lens selection
lensID_file       None #/data2/dvornik/AssemblyBias/ID_blue.txt                   # Path to text file with chosen lens IDs (optional).
lens_weights      None                                 # Weight name and path to fits file with lens weights (optional). (Not yet working)

lens_binning       color_cut_sat         /data2/dvornik/AssemblyBias/color_cut_sat.fits       0,1,2,3,4,5,6  # Lens parameter for binning, path to fits file (choose "self" for same as lens catalog), and
#lens_binning       logmstar          self      10.5,11.0,11.5 #bin edges (at least 3 edges, bin[i-1] <= x < bin[i]), or the number of bins.
#lens_binning        rad_cut2          /data2/dvornik/AssemblyBias/rad_cut2.fits        0,1,2,3,4
lens_limits1       RankBCG       self      1           # Lens parameter for limits, path to fits file (choose "self" for same as lens catalog), and
lens_limits2       Nfof          self      3,inf       #      (one value) or (two comma separated limits) between -inf and inf. Choose from {'Isolated' (-999),
                                                        #       'Centrals' (1), 'Satellites' (2 inf), 'All' (-999 inf), Group (1 inf)}



# Source selection
src_limits1           Z_B        0.005,1.2             # Source parameter for limits and one value, or
# src_limits2                                          #     two comma separated limits between -inf and inf.
kids_blinds             D



### Halo Model ###

model             halo.model_bias          # the name of the halo model python function

# Halo model parameters
#sigma_c, alpha_s, A, M_1, gamma_1, gamma_2, b_0, b_1, b_2, alpha_star, beta_gas, r_t0, r_c0, z, M_bin_min1, M_bin_min2, M_bin_min3, M_bin_min4, M_bin_min5, M_bin_min6, M_bin_max1, M_bin_max2, M_bin_max3, M_bin_max4, M_bin_max5, M_bin_max6 = theta 9.12, 10.44
hm_param          sigma_c         uniform     0.1  0.3  0.157
hm_param          alpha_s         uniform     -2.0 -1.0 -1.18
hm_param          A               uniform     8.0 11.0    9.95
hm_param          M_1             uniform     9.0 13.0    11.24
hm_param          gamma_1         uniform     1.0 5.0   3.18
hm_param          gamma_2         uniform     0.005 1.0 0.254
hm_param          b_0             fixed     -1.17
hm_param          b_1             fixed     1.53
hm_param          b_2             fixed     -0.217

# Parameters used when incorporating baryons in halo model. Values and usage as in paper from Fedeli, 2014 (http://arxiv.org/abs/1401.2997).

hm_param          alpha_star      fixed     1.0
hm_param          beta_gas        fixed     0.666666
hm_param          r_t0            fixed     0.03
hm_param          r_c0            fixed     0.05

# Redshift

hm_param          z               fixed     0.0

# Luminosity or stellar mass bins. Halo model (CLF/CMF) does not differentiate between the two, so be consistent.
# !!! Number of bins can be changed, but that also needs to be reflected in halo.model and in halo model output below !!!

hm_param          M_bin_min1      fixed       3.16227766e10
hm_param          M_bin_min2      fixed       3.16227766e10
hm_param          M_bin_min3      fixed       3.16227766e10
hm_param          M_bin_min4      fixed       1.0e11
hm_param          M_bin_min5      fixed       1.0e11
hm_param          M_bin_min6      fixed       1.0e11

hm_param          M_bin_max1      fixed       1.0e11
hm_param          M_bin_max2      fixed       1.0e11
hm_param          M_bin_max3      fixed       1.0e11
hm_param          M_bin_max4      fixed       3.16227766e11
hm_param          M_bin_max5      fixed       3.16227766e11
hm_param          M_bin_max6      fixed       3.16227766e11

hm_param          taylor_procedure fixed      0
hm_param          include_baryons  fixed      0

# these are extras returned by the model; last column are the fits formats (see pyfits docs)
hm_output         esd_total1,esd_total2,esd_total3,esd_total4,esd_total5,esd_total6            15E,15E,15E,15E,15E,15E
hm_output         Mavg1,Mavg2,Mavg3,Mavg4,Mavg5,Mavg6                                          E,E,E,E,E,E


### Parameter Sampling ###


data                /data2/dvornik/AssemblyBias/pipeline_results/output_rad_cutbins_AssemblyBias/results_shearcatalog/shearcatalog_rad_cutbin*of4_RankBCG1_Z_B0p005-1p2_Rbins15-20-20000kpc_Om0p315_Ol0p685_Ok0_h1_AssemblyBias_D.txt  0,1,4 # files containing the ESD profile.
                                              # Columns are (R,ESD_t[,1+K(R)]). Should be one file
                                              # per lens bin
covariance          /data2/dvornik/AssemblyBias/pipeline_results/output_rad_cutbins_AssemblyBias/results_shearcovariance/shearcovariance_matrix_rad_cutbins4_RankBCG1_Z_B0p005-1p2_Rbins15-20-20000kpc_Om0p315_Ol0p685_Ok0_h1_AssemblyBias_D.txt   4,6   # file containing the covariance.
                                              # Columns are (cov[,1+K(R)]).
sampler_output       /data2/dvornik/AssemblyBias/mcmc_output/rad_cut_mcmc.fits       # output filename (FITS format)
sampler              emcee                    # MCMC sampler
nwalkers	         12
nsteps               4000
nburn		         0
thin		         1 
k   		         1
threads		         12
sampler_type	     ensemble

