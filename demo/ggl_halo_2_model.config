############################
### Specific for halo.py ###
############################


########
##
## This file is ready to be used with
##   $ kids_ggl -c ggl_halo_model.config --sampler [--demo [--no-cov]] [-f]
##
## For help with the structure of this file see docs.
##
########


model             halo.model

[observables]
logmstar        gm  10,10.5,11   10.5,11,12     log

[selection]
logmstar_selection.txt      z,logmstar,completeness      fixed_width

[ingredients]
gm              True
gg              True
mm              False
centrals        True
pointmass       True
satellites      False
miscentring     False
twohalo         True
nzlens          False

[cosmo]
sigma_8         fixed     0.8159
h               fixed     0.6774
omegam          fixed     0.3089
omegab          fixed     0.04860
n               fixed     0.9667
w0              fixed     -1.0
wa              fixed     0.0
Neff            fixed     3.046
z               array     0.188,0.195,0.203

[hod/centrals/pointmass]
logmstar        array     11.315
point_norm      normal    1         0.2
[hod/centrals/concentration]
name            duffy08_crit
cosmo.z
fc              uniform     0.2     5       1
cosmo.h
[hod/centrals/mor]
name            powerlaw
logM0           fixed       14.0
a               uniform     -5      5
b               student     1
[hod/centrals/scatter]
name            lognormal
sigma_c         jeffreys
[hod/centrals/miscentring]
name            fiducial
p_off           fixed       0
R_off           fixed       0
[hod/centrals/twohalo]
bias            fixed       1

[hod/satellites/concentration]
name            duffy08_crit
cosmo.z
fcsat           fixed    1.0
cosmo.h
[hod/satellites/mor]
name            double_powerlaw
logM0           fixed       11.2
logM1           fixed       11.7
a               fixed       4.5
b               fixed       0.05
norm            fixed       0.56
[hod/satellites/scatter]
name            modschechter
alpha_s         fixed    -1.0
b               fixed    -0.1       join:b
b               fixed     1.0       join:b
b               fixed     0.0       join:b
[hod/satellites/beta]
beta            fixed       1

[setup]
return          esd
delta           200
delta_ref       mean
distances       comoving
# note that these are input units
R_unit          Mpc
esd_unit        Msun/pc^2
cov_unit        Msun^2/pc^4
# these are optional
transfer        EH
lnk_bins        1000
lnk_min         -10
lnk_max         10
logM_min        10
logM_max        16
logM_bins       200

[output]
esd_total         3,8E
Mavg              3,E

[sampler]
path_data            earlyscience_satellites
data                 esd_*.txt     0,1,4
path_covariance      earlyscience_satellites
covariance           covariance.txt 4,6
exclude              0,1
cov_format          2d
output               halo_model_results/model_sz.fits
sampler              emcee                    # MCMC sampler
nwalkers               20
nsteps               10
nburn                     0
thin                     1
threads                   2
sampler_type           ensemble
update               100
stop_when_converged     True
restart                 False

